<launch>
  <machine name="localhost" address="localhost" default="true" />

  <param name="robot/database" value="test_database" />
  <param name="robot/name" value="test_collection" />

  <!-- setup mongodb server -->
  <include file="$(find roseus_mongo)/test/temp_mongodb_store.xml" />

  <include file="$(find pr2_gazebo)/launch/pr2_empty_world.launch" />

  <!-- startup base_trajectory_logger -->
  <node name="base_trajectory_logger"
        pkg="jsk_robot_startup" type="base_trajectory_logger.py">
    <rosparam>
      map_frame:    odom_combined
      robot_frame:  base_footprint
      update_cycle: 0.1
    </rosparam>
  </node>

  <!-- startup action_logger -->
  <node name="action_logger"
        pkg="jsk_robot_startup" type="action_logger.py">
    <rosparam>
      white_list:
        type:
        - Pr2GripperCommandActionGoal
        - Pr2GripperCommandActionResult
        - Pr2GripperCommandActionFeedback
    </rosparam>
  </node>

  <!-- startup object_detection_logger -->
  <node name="object_detection_logger"
        pkg="jsk_robot_startup" type="object_detection_logger.py">
    <rosparam>
      map_frame: odom_combined
      robot_frame: base_footprint
    </rosparam>
  </node>

  <!-- test node -->
  <test test-name="test_robot_logger" pkg="roseus" type="roseus"
        args="$(find jsk_robot_startup)/test/lifelog/test-logger-pr2.l"
        retry="3" />
</launch>
