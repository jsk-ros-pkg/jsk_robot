<launch>
  <node name="go_to_kitchen" pkg="roseus" type="roseus" required="true" output="screen"
        args="$(find jsk_fetch_startup)/euslisp/go-to-kitchen.l"/>

  <!-- launch rviz with throttle -->
  <include file="$(find jsk_fetch_startup)/launch/rviz_record.launch" />

  <!-- Use m5stack_ros -->
  <!-- See https://github.com/jsk-ros-pkg/jsk_3rdparty/pull/289 -->
  <node name="rosserial_m5stack" pkg="rosserial_python" type="serial_node.py">
    <rosparam>
      port: /dev/rfcomm0 <!-- See /var/lib/robot/rfcomm_devices.yaml -->
      baud: 115200
    </rosparam>
  </node>

  <node name="go_to_kitchen_video_recorder" pkg="image_view" type="video_recorder">
    <remap from="image" to="/head_camera/rgb/image_rect_color" />
    <rosparam>
      filename: /tmp/go_to_kitchen.avi
      codec: XVID
      stamped_filename: false
      fps: 30
    </rosparam>
  </node>
  <node name="go_to_kitchen_object_detection_video_recorder" pkg="image_view" type="video_recorder">
    <remap from="image" to="/edgetpu_object_detector/output/image" />
    <rosparam>
      filename: /tmp/go_to_kitchen_object_detection.avi
      codec: XVID
      stamped_filename: false
      fps: 7.5
    </rosparam>
  </node>
</launch>
