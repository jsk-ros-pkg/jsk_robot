<launch>
  <node name="go_to_kitchen" pkg="roseus" type="roseus" required="true" output="screen"
        args="$(find jsk_fetch_startup)/euslisp/go-to-kitchen.l" />

  <!-- launch rviz with throttle -->
  <include file="$(find jsk_fetch_startup)/launch/rviz_record.launch" />

  <!-- Use m5stack_ros -->
  <!-- See https://github.com/jsk-ros-pkg/jsk_3rdparty/pull/289 -->
  <node name="rosserial_m5stack" pkg="rosserial_python" type="serial_node.py">
    <rosparam>
      port: /dev/rfcomm0 <!-- See /var/lib/robot/rfcomm_devices.yaml -->
      baud: 115200
    </rosparam>
  </node>

  <node name="edgetpu_object_detector_visualization" pkg="jsk_perception"
        type="draw_rects" output="screen" respawn="true">
    <remap from="~input" to="/head_camera/rgb/throttled/image_rect_color" />
    <remap from="~input/rects" to="/edgetpu_object_detector/output/rects" />
    <remap from="~input/class" to="/edgetpu_object_detector/output/class" />
    <rosparam>
      approximate_sync: true
      queue_size: 100
      use_classification_result: true
      resolution_factor: 1.0
    </rosparam>
  </node>
</launch>
