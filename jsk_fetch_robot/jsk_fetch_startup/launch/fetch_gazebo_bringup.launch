<launch>
  <arg name="launch_gazebo" default="true" />
  <arg name="launch_gui" default="true" />
  <arg name="launch_moveit" default="true" />
  <arg name="launch_move_base" default="true" />
  <arg name="launch_sound_play" default="true" />
  <arg name="launch_english_speech" default="true" />
  <arg name="launch_japanese_speech" default="false" />

  <arg name="paused" default="false" />
  <arg name="world" default="worlds/empty.world" />
  <arg name="map_frame" default="eng2" />

  <arg name="INITIAL_POSE_X" default="0.0" />
  <arg name="INITIAL_POSE_Y" default="0.0" />
  <arg name="INITIAL_POSE_Z" default="0.0" />
  <arg name="INITIAL_POSE_YAW" default="0.0" />

  <group if="$(arg launch_gazebo)">
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
      <arg name="gui" value="$(arg launch_gui)" />
      <arg name="headless" value="false" if="$(arg launch_gui)" />
      <arg name="headless" value="true" unless="$(arg launch_gui)" />
      <arg name="paused" value="$(arg paused)" />
      <arg name="world_name" value="$(arg world)" />
      <arg name="use_sim_time" value="true" />
    </include>
    <include file="$(find fetch_gazebo)/launch/include/fetch.launch.xml">
      <arg name="x" value="$(arg INITIAL_POSE_X)" />
      <arg name="y" value="$(arg INITIAL_POSE_Y)" />
      <!-- wait for https://github.com/fetchrobotics/fetch_gazebo/pull/16 -->
      <!-- <arg name="z" value="$(arg INITIAL_POSE_Z)" /> -->
      <!-- <arg name="yaw" value="$(arg INITIAL_POSE_YAW)" /> -->
    </include>
  </group>

  <!-- include fetch moveit -->
  <group if="$(arg launch_moveit)">
    <include file="$(find fetch_moveit_config)/launch/move_group.launch" />
    <!-- overwrite fetch.srdf -->
    <!-- The semantic description that corresponds to the URDF -->
    <param name="robot_description_semantic"
	   command="rosrun xacro xacro --inorder $(find jsk_fetch_startup)/launch/moveit/fetch.srdf.xacro head_l515:=false" />
  </group>

  <include file="$(find jsk_fetch_startup)/launch/fetch_bringup.launch">
    <arg name="launch_move_base" value="$(arg launch_move_base)" />
    <arg name="launch_sound_play" value="$(arg launch_sound_play)" />
    <arg name="launch_english_speech" value="$(arg launch_english_speech)" />
    <arg name="launch_japanese_speech" value="$(arg launch_japanese_speech)" />
    <arg name="map_frame" value="$(arg map_frame)" />
    <arg name="launch_teleop" default="false" />
    <arg name="launch_correct_position" default="false" />
    <arg name="launch_build_map" default="false" />
    <arg name="launch_nav_speak" default="false" />
    <arg name="launch_fetch_sensors" default="false" />
    <arg name="launch_insta360" default="false" />
    <arg name="launch_edgetpu_human_pose_estimator" default="false" />
    <arg name="launch_edgetpu_object_detector" default="false" />
    <arg name="launch_check_room_light" default="false" />
    <arg name="launch_boot_sound" default="false" />
    <arg name="launch_speech_recognition" default="false" />
    <arg name="launch_tweet" default="false" />
    <arg name="launch_dialogflow" default="false" />
    <arg name="launch_google_chat" default="false" />
    <arg name="launch_gdrive_server" default="false" />
    <arg name="launch_roswww" default="false" />
    <arg name="launch_websocket" default="false" />
    <arg name="launch_rwt_image_view" default="false" />
    <arg name="launch_robot_pose_publisher" default="false" />
    <arg name="launch_app_manager" default="false" />
    <arg name="launch_app_scheduler" default="false" />
    <arg name="launch_smach_image_publisher" default="false" />
    <arg name="launch_mail_notification" default="false" />
    <arg name="launch_battery_warning" default="false" />
    <arg name="launch_network_detector" default="false" />
    <arg name="launch_network_status" default="false" />
    <arg name="launch_audible_warning" default="false" />
    <arg name="launch_check_driver_boards" default="false" />
    <arg name="launch_rosserial" default="false" />
    <arg name="launch_switchbot" default="false" />
    <arg name="launch_fetch_lifelog" default="false" />
  </include>
</launch>
